#include "../include/chip8_font.h"
// Definition of the fontset
const unsigned char fontset[80] = {
    0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
    0x20, 0x60, 0x20, 0x20, 0x70, // 1
    0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2  
    0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
    0x90, 0x90, 0xF0, 0x10, 0x10, // 4
    0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
    0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
    0xF0, 0x10, 0x20, 0x40, 0x40, // 7
    0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
    0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
    0xF0, 0x90, 0xF0, 0x90, 0x90, // A
    0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
    0xF0, 0x80, 0x80, 0x80, 0xF0, // C
    0xE0, 0x90, 0x90, 0x90, 0xE0, // D
    0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
    0xF0, 0x80, 0xF0, 0x80, 0x80  // F
};

void handle_input(registers* regs, unsigned char key) {
    switch (key) {
        case '1': regs->keypad[0x1] = 1; break;
        case '2': regs->keypad[0x2] = 1; break;
        case '3': regs->keypad[0x3] = 1; break;
        case '4': regs->keypad[0xC] = 1; break;
        case 'q': regs->keypad[0x4] = 1; break;
        case 'w': regs->keypad[0x5] = 1; break;
        case 'e': regs->keypad[0x6] = 1; break;
        case 'r': regs->keypad[0xD] = 1; break;
        case 'a': regs->keypad[0x7] = 1; break;
        case 's': regs->keypad[0x8] = 1; break;
        case 'd': regs->keypad[0x9] = 1; break;
        case 'f': regs->keypad[0xE] = 1; break;
        case 'z': regs->keypad[0xA] = 1; break;
        case 'x': regs->keypad[0x0] = 1; break;
        case 'c': regs->keypad[0xB] = 1; break;
        case 'v': regs->keypad[0xF] = 1; break;
    }
}
